function signUp(){var t=document.forms["signup-form"].username,e=document.forms["signup-form"].password,n=document.forms["signup-form"]["confirm-password"],a=document.forms["signup-form"].email,i=document.forms["signup-form"]["full-name"],s=document.forms["signup-form"].birthday,r=document.forms["signup-form"].gender,o=document.forms["signup-form"].avatar;if(n.setAttribute("pattern",e.value),t.validity.valueMissing)toastr.warning("Tài khoản không được để trống");else if(t.validity.tooShort)toastr.warning("Tên tài khoản quá ngắn");else if(t.validity.patternMismatch)toastr.warning("Tài khoản không được có ký tự đặc biệt");else if(a.validity.valueMissing)toastr.warning("Email không được để trống");else if(a.validity.typeMismatch)toastr.warning("Email chưa đúng định dạng");else if(e.validity.valueMissing)toastr.warning("Mật khẩu không được để trống");else if(e.validity.tooShort)toastr.warning("Mật khẩu quá ngắn");else if(n.validity.patternMismatch||n.validity.valueMissing)toastr.warning("Nhập lại mật khẩu chưa chính xác");else{var u=new signupData(t.value,e.value,a.value,i.value,r.value,1*new Date(s.value),o.value);if(u.signUp(),201===u.xhttp.status){toastr.success("Đăng ký tài khoản thành công");var l=JSON.parse(u.xhttp.responseText),g=new signinData(l.data.attributes.username,l.data.attributes.password);setTimeout(function(){g.signIn()},1e3)}else l=JSON.parse(u.xhttp.responseText),toastr.error(l.errors[0].title+"! "+l.errors[0].detail)}}function resetForm(){for(var t=document.querySelector("#signup-form").querySelectorAll("label"),e=0;e<t.length;e++)t[e].removeAttribute("class");t[5].setAttribute("class","active")}null!==userToken&&(location.href="/");var signupData=function(t,e,n,a,i,s,r){this.data={type:"Member",attributes:{username:t,password:e,email:n,fullName:a,gender:i,birthDay:s,avatar:r}}};signupData.prototype.signUp=function(){var t=this;this.xhttp=new XMLHttpRequest,this.xhttp.open("POST",membersApi,!1),this.xhttp.send(JSON.stringify(t))};